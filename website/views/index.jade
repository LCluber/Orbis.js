extends _layout

block content

  header( class='intro')
    div( class='intro-body')
      div( class='container')
        div( class='row')
          div( class='col-md-8 col-md-offset-2')
            h1( class='brand-heading' ) Orbis.js
            p( class='intro-text') An open source asynchronous assets loader written in Javascript.
              br/
              br/ 
              a( href='#about' class='btn btn-circle page-scroll' )
                i( class='fa fa-angle-double-down animated' )

  section( id='about' class='container content-section text-center' )
    div( class='row' )
      div( class='col-lg-8 col-lg-offset-2' )
        h2 About
        
        p The main purpose was to provide a simple way to load assets only when needed instead of loading everything when the main page loads.
        
        ul 
          li Setup your json config file containing all your assets (images, textures, sprites, sounds, musics, texts, jsons),
           
          li launch the loader and use onProgress callback to set your own progress bar design,
          
          li wait for onComplete callback to start using your freshly loaded assets.

        p Check 
          a( class='page-scroll' href='#example' ) Example 
          |and 
          a( class='page-scroll' href='#source' ) Code 
          |section for more information on how to use Orbis.js. There is also a 
          a( class='page-scroll' href='#documentation' ) documentation 
          | if you need to go deeper.
        
        p You can help develop Orbis.js on 
          a( href='https://github.com/LCluber' target='_blank' ) Github
          |.
        
  section( id='example' class='container content-section text-center' )
    div( class='row' )
      div( class='col-lg-8 col-lg-offset-2' )
        h2 Example

        div( id='progressPanel' )
          button( id='launcher' type='button' class='btn btn-default' onclick='loadAssets()' ) LOAD ASSETS
          progress( id='progressBar' value='0' max='100' )
          span( id='progressPercentage' ) 0%
          span( id='progressFile' )
          
          div( id='progressConsole' )

          p( id='warning')
            em Please note the loader must be launched on a web server in order to avoid "Cross origin requests" errors.
              br/
              a( href='http://stackoverflow.com/questions/10752055/cross-origin-requests-are-only-supported-for-http-error-when-loading-a-local' target='_blank' ) Follow this link to learn more.
                
  section( id='source' class='container content-section text-center' )
    div( class='row' )
      div( class='col-lg-8 col-lg-offset-2' )
        h2 Code
        
        h3 HTML (index.html)
        
        pre.
          &lt;button id="launcher" type="button" onclick="loadAssets()"&gt; LOAD ASSETS &lt;/button&gt;
          
          &lt;progress id="progressBar" value="0" max="100"&gt;&lt;/progress&gt;
          &lt;span id="progressPercentage"&gt;0%&lt;/span&gt;
          &lt;span id="progressFile"&gt;&lt;/span&gt;
        h3 Json config (assets.json)
        
        p 
          strong basic
        
        pre( class='col-md-6').
          {
            "type":{
              "folder": "folder_name",
              "files" : [
                "file1.txt",
                "file2.txt"
              ]
            },
          }
        pre( class='col-md-6').
          {
            "shaders":{
              "folder": "shaders",
              "files"	: [
                "shader1.txt",
                "shader2.txt"
              ]
            }
          }
        p
          strong advanced
        
        pre( class='col-md-6').
          {
            "type": {
              "folder": "folder_name",
              "files" : [
                {
                  "file":"file1.png",
                  "option1":{},
                  "option2":[],
                  "option3":"string",
                  "option4":bool
                }
              ]
            }
          }
        pre( class='col-md-6').
          {
            "sprites": {
              "folder": "sprites",
              "files" :[
                {
                  "file":"sprite1.png",
                  "texSize":[124,70],
                  "frameSize":[62,70]
                }
              ]
            },
            "sounds": {
              "folder": "sounds",
              "files" : [
                {
                  "file":"sound1.mp3",
                  "volume":0.2,
                  "loop":false,
                  "type":"sfx"
                }
              ]
            }
          }
        h3 Javascript (main.js)
        
        p instantiate a loader with your onProgress and onComplete callback functions.
        pre var loader = ORBIS.create(updateProgress, complete, null, null);
        
        p Launches the asynchronous loading with the assets file and the assets folder in parameters.
        pre loader.launch('../public/assets.json', '../public/assets/');
          
        p onProgress callback. With progress data and last file loaded in parameters.
        pre.
          function updateProgress( progress, file ) {
            document.getElementById('progressBar').value            = progress;
            document.getElementById('progressPercentage').innerHTML = progress + '%';
            document.getElementById('progressFile').innerHTML       = file.name;
          }
        
        p onComplete callback. With every loaded assets in parameter.
        pre. 
          function complete( assets ) {
            document.getElementById('progressFile').innerHTML = 'complete';
          }
        
        p Once the loading is complete, you can call any asset in your program like this.
        pre.
          var shader1     = loader.getAsset('shader1.txt'); //get a loaded asset by name.
          var spritesList = loader.getList('sprites'); //get a list of a specific type of assets.
  
  section( id='download' class='container content-section text-center' )
    div( class='row' )
      div( class='col-lg-8 col-lg-offset-2' )
        h2 Download Orbis.js
        ul( class='list-inline banner-social-buttons' )
          li
            a( href='dist/orbis.min.js' class='btn btn-default btn-lg' target='_blank' download='orbis.min.js' title='Minified library only') Orbis.min.js
          li
            a( href='zip/orbisjs.zip' class='btn btn-default btn-lg' target='_blank' download='orbisjs.zip' title='Package with documentation and examples') Orbisjs.zip 
          li
            a( href='https://github.com/LCluber/Orbis.js' class='btn btn-default btn-lg' target='_blank' title='Sources for the entire project')
              i( class='fa fa-github fa-fw' )
              |Clone on Github

  section( id='contact' class='container content-section text-center' )
    div( class='row' )
      div( class='col-lg-8 col-lg-offset-2' )
        h2 Contact me
        p Feel free to ask me about my work, give me suggestions, or just to say hi.
        ul( class='list-inline banner-social-buttons' )
          li
            a( href='http://www.lcluber.com/contact.php' class='btn btn-default btn-lg' target='_blank' )
              |lcluber.com
          li
            a( href='https://twitter.com/LCluber' class='btn btn-default btn-lg' target='_blank' )
              i( class='fa fa-twitter fa-fw' ) 
              |Twitter
          li
            a( href='https://github.com/LCluber' class='btn btn-default btn-lg' target='_blank' )
              i( class='fa fa-github fa-fw' ) 
              |Github
